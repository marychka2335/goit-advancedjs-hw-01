{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst form = document.querySelector('.feedback-form');\nconst inputEmail = document.querySelector('input[name=\"email\"]');\nconst message = document.querySelector('textarea[name=\"message\"]');\nconst feedbackInfo = {};\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener('input', throttle(getInputValues, 500));\nform.addEventListener('submit', handleSubmit);\n\ntry {\n    const currentFeedbackInfo = JSON.parse(localStorage.getItem(STORAGE_KEY));\n     if (currentFeedbackInfo) {\n        inputEmail.value = currentFeedbackInfo.email ? currentFeedbackInfo.email : '';\n        message.value = currentFeedbackInfo.message ? currentFeedbackInfo.message : '';    \n     }\n} catch (error) {\n        console.log(error.message)\n}\n\nfunction getInputValues(event) {\n    feedbackInfo[`${event.target.name}`] = event.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(feedbackInfo));\n}\n\nfunction handleSubmit(event) {\n    event.preventDefault();\n\n    if (inputEmail.value === '' || message.value === '') {\n        return alert('Please fill an empty field');\n      }\n      else {\n    console.log({ email: inputEmail.value, message: message.value});\n}\n\n    form.reset();\n    localStorage.removeItem(STORAGE_KEY);\n}\n"],"names":["form","inputEmail","message","feedbackInfo","STORAGE_KEY","throttle","getInputValues","handleSubmit","currentFeedbackInfo","error","event"],"mappings":"wIAEA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAU,SAAS,cAAc,0BAA0B,EAC3DC,EAAe,CAAA,EACfC,EAAc,sBAEpBJ,EAAK,iBAAiB,QAASK,EAASC,EAAgB,GAAG,CAAC,EAC5DN,EAAK,iBAAiB,SAAUO,CAAY,EAE5C,GAAI,CACA,MAAMC,EAAsB,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,EACnEI,IACDP,EAAW,MAAQO,EAAoB,MAAQA,EAAoB,MAAQ,GAC3EN,EAAQ,MAAQM,EAAoB,QAAUA,EAAoB,QAAU,GAEpF,OAASC,EAAP,CACM,QAAQ,IAAIA,EAAM,OAAO,CACjC,CAEA,SAASH,EAAeI,EAAO,CAC3BP,EAAa,GAAGO,EAAM,OAAO,QAAUA,EAAM,OAAO,MACpD,aAAa,QAAQN,EAAa,KAAK,UAAUD,CAAY,CAAC,CAClE,CAEA,SAASI,EAAaG,EAAO,CAGzB,GAFAA,EAAM,eAAc,EAEhBT,EAAW,QAAU,IAAMC,EAAQ,QAAU,GAC7C,OAAO,MAAM,4BAA4B,EAG7C,QAAQ,IAAI,CAAE,MAAOD,EAAW,MAAO,QAASC,EAAQ,KAAK,CAAC,EAG9DF,EAAK,MAAK,EACV,aAAa,WAAWI,CAAW,CACvC"}